A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE     1


MACRO ASSEMBLER A51 V8.01
OBJECT MODULE PLACED IN PROJECT_4.OBJ
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE PROJECT_4.ASM NOMOD51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;$include (REG_MPC82G516.inc)
                +1     2     ;MPC82G516
                +1     3     
                +1     4     
                +1     5     ;(System)
  00E0          +1     6     ACC      DATA   0E0H
  00F0          +1     7     B        DATA   0F0H
  0081          +1     8     SP       DATA   81H
  0082          +1     9     DPL      DATA   82H
  0083          +1    10     DPH      DATA   83H
  00D0          +1    11     PSW      DATA   0D0H
                +1    12     
                +1    13     ;(Interrupt)
  00A8          +1    14     IE       DATA   0A8H
  00AD          +1    15     AUXIE    DATA   0ADh
  00C0          +1    16     XICON    DATA   0C0h
  00B8          +1    17     IP       DATA   0B8H
  00B7          +1    18     IPH      DATA   0B7h
  00AE          +1    19     AUXIP    DATA   0AEh
  00AF          +1    20     AUXIPH   DATA   0AFh
                +1    21     
                +1    22     ;(I/O Port)
  0080          +1    23     P0       DATA   80H
  0090          +1    24     P1       DATA   90H
  00A0          +1    25     P2       DATA   0A0H
  00B0          +1    26     P3       DATA   0B0H
  00E8          +1    27     P4       DATA   0E8h
  0093          +1    28     P0M0     DATA   93h
  0094          +1    29     P0M1     DATA   94h
  0091          +1    30     P1M0     DATA   91h
  0092          +1    31     P1M1     DATA   92h
  0095          +1    32     P2M0     DATA   95h
  0096          +1    33     P2M1     DATA   96h
  00B1          +1    34     P3M0     DATA   0B1h
  00B2          +1    35     P3M1     DATA   0B2h
  00B3          +1    36     P4M0     DATA   0B3h
  00B4          +1    37     P4M1     DATA   0B4h
                +1    38     
                +1    39     ;(Timer)
  0088          +1    40     TCON     DATA   88H
  0089          +1    41     TMOD     DATA   89H
  00C8          +1    42     T2CON    DATA   0C8H
  00C9          +1    43     T2MOD    DATA   0C9h
  00CA          +1    44     RCAP2L   DATA   0CAH
  00CB          +1    45     RCAP2H   DATA   0CBH
  008A          +1    46     TL0      DATA   8AH
  008B          +1    47     TL1      DATA   8BH
  008C          +1    48     TH0      DATA   8CH
  008D          +1    49     TH1      DATA   8DH
  00CC          +1    50     TL2      DATA   0CCH
  00CD          +1    51     TH2      DATA   0CDH
                +1    52     
                +1    53     ;(Serial Port)
  0098          +1    54     SCON     DATA   98H
  0099          +1    55     SBUF     DATA   99H
  00A9          +1    56     SADDR    DATA   0A9h
  00B9          +1    57     SADEN    DATA   0B9h
  00AA          +1    58     S2CON    DATA   0AAh
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE     2

  00BA          +1    59     S2BRT    DATA   0BAh
  009A          +1    60     S2BUF    DATA   9Ah
                +1    61     
                +1    62     ;(ADC)
  00C5          +1    63     ADCTL    DATA   0C5h
  00C6          +1    64     ADCH     DATA   0C6h
  00BE          +1    65     ADCL     DATA   0BEh
  00C6          +1    66     ADC      DATA   0C6h ;the same as ADCH, the higher 8 bits
                +1    67     
                +1    68     ;(Keypad Interrupt)
  00D6          +1    69     KBCON    DATA   0D6h
  00D5          +1    70     KBPATN   DATA   0D5h
  00D7          +1    71     KBMASK   DATA   0D7h
                +1    72     
                +1    73     ;(SPI)
  0085          +1    74     SPCTL    DATA   85h
  0086          +1    75     SPDAT    DATA   86h
  0084          +1    76     SPSTAT   DATA   84h
                +1    77     
                +1    78     ;(PCA)
  00D8          +1    79     CCON     DATA   0D8h
  00D9          +1    80     CMOD     DATA   0D9h
  00E9          +1    81     CL       DATA   0E9h
  00F9          +1    82     CH       DATA   0F9h
  00DA          +1    83     CCAPM0   DATA   0DAh
  00DB          +1    84     CCAPM1   DATA   0DBh
  00DC          +1    85     CCAPM2   DATA   0DCh
  00DD          +1    86     CCAPM3   DATA   0DDh
  00DE          +1    87     CCAPM4   DATA   0DEh
  00DF          +1    88     CCAPM5   DATA   0DFh
  00FA          +1    89     CCAP0H   DATA   0FAh
  00EA          +1    90     CCAP0L   DATA   0EAh
  00FB          +1    91     CCAP1H   DATA   0FBh
  00EB          +1    92     CCAP1L   DATA   0EBh
  00FC          +1    93     CCAP2H   DATA   0FCh
  00EC          +1    94     CCAP2L   DATA   0ECh
  00FD          +1    95     CCAP3H   DATA   0FDh
  00ED          +1    96     CCAP3L   DATA   0EDh
  00FE          +1    97     CCAP4H   DATA   0FEh
  00EE          +1    98     CCAP4L   DATA   0EEh
  00FF          +1    99     CCAP5H   DATA   0FFh
  00EF          +1   100     CCAP5L   DATA   0EFh
  00F2          +1   101     PCAPWM0  DATA   0F2h
  00F3          +1   102     PCAPWM1  DATA   0F3h
  00F4          +1   103     PCAPWM2  DATA   0F4h
  00F5          +1   104     PCAPWM3  DATA   0F5h
  00F6          +1   105     PCAPWM4  DATA   0F6h
  00F7          +1   106     PCAPWM5  DATA   0F7h
                +1   107     
                +1   108     ;(Others)
  0087          +1   109     PCON     DATA   87H
  00C7          +1   110     PCON2    DATA   0C7h
  008E          +1   111     AUXR     DATA   8Eh
  00A2          +1   112     AUXR1    DATA   0A2h
  00A6          +1   113     AUXR2    DATA   0A6h
  008F          +1   114     STRETCH  DATA   8Fh
  0097          +1   115     EVRCR    DATA   97h
  00E1          +1   116     WDTCR    DATA   0E1h
                +1   117     
                +1   118     ;(ISP)
  00E7          +1   119     ISPCR    DATA   0E7h
  00E5          +1   120     IFMT     DATA   0E5h
  00E2          +1   121     IFD      DATA   0E2h
  00E3          +1   122     IFADRH   DATA   0E3h
  00E4          +1   123     IFADRL   DATA   0E4h
  00E6          +1   124     SCMD     DATA   0E6h
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE     3

                +1   125     
                +1   126     ;(bits in PSW)
  00D7          +1   127     CY       BIT    PSW.7
  00D6          +1   128     AC       BIT    PSW.6
  00D5          +1   129     F0       BIT    PSW.5
  00D4          +1   130     RS1      BIT    PSW.4
  00D3          +1   131     RS0      BIT    PSW.3
  00D2          +1   132     OV       BIT    PSW.2
  00D0          +1   133     P        BIT    PSW.0
                +1   134     
                +1   135     ;(bits in IE)
  00AF          +1   136     EA       BIT    IE.7
  00AD          +1   137     ET2      BIT    IE.5
  00AC          +1   138     ES       BIT    IE.4
  00AB          +1   139     ET1      BIT    IE.3
  00AA          +1   140     EX1      BIT    IE.2
  00A9          +1   141     ET0      BIT    IE.1
  00A8          +1   142     EX0      BIT    IE.0
                +1   143     
                +1   144     ;(bits in IP)
  00BD          +1   145     PT2      BIT    IP.5
  00BC          +1   146     PS       BIT    IP.4
  00BB          +1   147     PT1      BIT    IP.3
  00BA          +1   148     PX1      BIT    IP.2
  00B9          +1   149     PT0      BIT    IP.1
  00B8          +1   150     PX0      BIT    IP.0
                +1   151     
                +1   152     ;(bits in SCON)
  009F          +1   153     FE       BIT    SCON.7
  009F          +1   154     SM0      BIT    SCON.7
  009E          +1   155     SM1      BIT    SCON.6
  009D          +1   156     SM2      BIT    SCON.5
  009C          +1   157     REN      BIT    SCON.4
  009B          +1   158     TB8      BIT    SCON.3
  009A          +1   159     RB8      BIT    SCON.2
  0099          +1   160     TI       BIT    SCON.1
  0098          +1   161     RI       BIT    SCON.0
                +1   162     
                +1   163     ;(bits in TCON)
  008F          +1   164     TF1      BIT    TCON.7
  008E          +1   165     TR1      BIT    TCON.6
  008D          +1   166     TF0      BIT    TCON.5
  008C          +1   167     TR0      BIT    TCON.4
  008B          +1   168     IE1      BIT    TCON.3
  008A          +1   169     IT1      BIT    TCON.2
  0089          +1   170     IE0      BIT    TCON.1
  0088          +1   171     IT0      BIT    TCON.0
                +1   172     
                +1   173     ;(bits in T2CON)
  00CF          +1   174     TF2      BIT    T2CON.7
  00CE          +1   175     EXF2     BIT    T2CON.6
  00CD          +1   176     RCLK     BIT    T2CON.5
  00CC          +1   177     TCLK     BIT    T2CON.4
  00CB          +1   178     EXEN2    BIT    T2CON.3
  00CA          +1   179     TR2      BIT    T2CON.2
  00C9          +1   180     C_T2     BIT    T2CON.1
  00C8          +1   181     CP_RL2   BIT    T2CON.0
                +1   182     
                +1   183     ;(bits in CCON)
  00DF          +1   184     CF       BIT    CCON.7
  00DE          +1   185     CR       BIT    CCON.6
  00DD          +1   186     CCF5     BIT    CCON.5
  00DC          +1   187     CCF4     BIT    CCON.4
  00DB          +1   188     CCF3     BIT    CCON.3
  00DA          +1   189     CCF2     BIT    CCON.2
  00D9          +1   190     CCF1     BIT    CCON.1
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE     4

  00D8          +1   191     CCF0     BIT    CCON.0
                +1   192     
                +1   193     ;(bits in XICON)
  00C7          +1   194     PX3      BIT    XICON.7
  00C6          +1   195     EX3      BIT    XICON.6
  00C5          +1   196     IE3      BIT    XICON.5
  00C4          +1   197     IT3      BIT    XICON.4
  00C3          +1   198     PX2      BIT    XICON.3
  00C2          +1   199     EX2      BIT    XICON.2
  00C1          +1   200     IE2      BIT    XICON.1
  00C0          +1   201     IT2      BIT    XICON.0
                +1   202     
                +1   203     ;(bits in P1, alternate)
  0091          +1   204     T2EX     BIT    P1.1
  0090          +1   205     T2       BIT    P1.0
  0093          +1   206     S2TXD    BIT    P1.3
  0092          +1   207     S2RXD    BIT    P1.2
  0097          +1   208     SPI_CLK  BIT    P1.7
  0096          +1   209     SPI_MISO BIT    P1.6
  0095          +1   210     SPI_MOSI BIT    P1.5
  0094          +1   211     SPI_SS   BIT    P1.4
  0097          +1   212     CEX5     BIT    P1.7
  0096          +1   213     CEX4     BIT    P1.6
  0095          +1   214     CEX3     BIT    P1.5
  0094          +1   215     CEX2     BIT    P1.4
  0093          +1   216     CEX1     BIT    P1.3
  0092          +1   217     CEX0     BIT    P1.2
  0091          +1   218     ECI      BIT    P1.1
                +1   219     
                +1   220     ;(bits in P3, alternate)
  00B7          +1   221     RD       BIT    P3.7
  00B6          +1   222     WR       BIT    P3.6
  00B5          +1   223     T1       BIT    P3.5
  00B4          +1   224     T0       BIT    P3.4
  00B3          +1   225     INT1     BIT    P3.3
  00B2          +1   226     INT0     BIT    P3.2
  00B1          +1   227     TXD      BIT    P3.1
  00B0          +1   228     RXD      BIT    P3.0
  00B5          +1   229     S2CKO    BIT    P3.5
  00B4          +1   230     T0CKO    BIT    P3.4
                +1   231     
                +1   232     ;(bits in P4, alternate)
  00EB          +1   233     INT2     BIT    P4.3
  00EA          +1   234     INT3     BIT    P4.2
                +1   235     
                     236     
0000                 237             ORG     00H                   
0000 804E            238             JMP     START
0003                 239             ORG     03H
0003 61EC            240             JMP     STOPALA
0013                 241             ORG     13H
0013 A1B8            242             JMP     WARN
002B                 243             ORG     2BH
002B 61CE            244             JMP     TIMER2 
000B                 245             ORG     0BH
000B 01AC            246             JMP     DELAY60MS 
004B                 247             ORG     4BH
004B 812F            248             JMP     IADC                 
0050                 249             ORG     50H                   
0050                 250     START:
0050 7800            251             MOV     R0,#0
0052 7900            252             MOV     R1,#0
0054 7A00            253             MOV     R2,#0
0056 7B00            254             MOV     R3,#0
0058 7C00            255             MOV     R4,#0
005A 7D00            256             MOV     R5,#0
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE     5

005C 7E05            257             MOV     R6,#5
005E 752500          258             MOV     25H,#0
0061 752700          259             MOV     27H,#0
0064 752800          260             MOV     28H,#0
0067 752900          261             MOV     29H,#0
006A 753000          262             MOV     30H,#0
006D 753100          263             MOV     31H,#0
0070 753200          264             MOV     32H,#0
0073 753300          265             MOV     33H,#0
0076 753400          266             MOV     34H,#0
0079 753500          267             MOV     35H,#0
007C 752405          268             MOV     24H,#5
007F C2B0            269             CLR     P3.0
0081 C2B7            270             CLR     P3.7
0083 D288            271             SETB    IT0
0085 C28A            272             CLR     IT1
0087 75A8AB          273             MOV     IE,#10101011B
008A 75B82B          274             MOV     IP,#00101011B 
008D                 275     BEGIN:
008D 7184            276             CALL    CHECKWA
008F 11ED            277             CALL    ROW1
0091 51DC            278             CALL    TRY
0093 E525            279             MOV     A,25H
0095 B402F5          280             CJNE    A,#2,BEGIN
0098 ED              281             MOV     A,R5
0099 B530F1          282             CJNE    A,30H,BEGIN
009C EC              283             MOV     A,R4
009D B529ED          284             CJNE    A,29H,BEGIN
00A0 EB              285             MOV     A,R3
00A1 B528E9          286             CJNE    A,28H,BEGIN
00A4 EA              287             MOV     A,R2
00A5 B527E5          288             CJNE    A,27H,BEGIN
00A8 71A2            289             CALL    ALARM
00AA 80E1            290             JMP     BEGIN
00AC                 291     DELAY60MS:
00AC C28D            292             CLR     TF0
00AE B2B7            293             CPL     P3.7
00B0 758C15          294             MOV     TH0,#21
00B3 758AA0          295             MOV     TL0,#160
00B6 8F33            296             MOV     33H,R7
00B8 AF8D            297             MOV     R7,TH1
00BA BF010F          298             CJNE    R7,#1,BACKDELAY
00BD AF8B            299             MOV     R7,TL1
00BF BFF50A          300             CJNE    R7,#245,BACKDELAY
00C2 758B00          301             MOV     TL1,#0
00C5 758D00          302             MOV     TH1,#0
00C8 AF33            303             MOV     R7,33H  
00CA 11CD            304             CALL    MIN     
00CC                 305     BACKDELAY:
00CC 32              306             RETI
00CD                 307     MIN:
00CD 0D              308             INC     R5
00CE BD0A1B          309             CJNE    R5,#10,GOBACK
00D1 7D00            310             MOV     R5,#0
00D3 0C              311             INC     R4
00D4 BC0615          312             CJNE    R4,#6,GOBACK
00D7 7C00            313             MOV     R4,#0
00D9 0B              314             INC     R3
00DA BA0209          315             CJNE    R2,#2,HOUR
00DD BB040C          316             CJNE    R3,#4,GOBACK
00E0 7B00            317             MOV     R3,#0
00E2 7A00            318             MOV     R2,#0
00E4 8006            319             JMP     GOBACK
00E6                 320     HOUR:
00E6 BB0A03          321             CJNE    R3,#10,GOBACK
00E9 7B00            322             MOV     R3,#0
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE     6

00EB 0A              323             INC     R2
00EC                 324     GOBACK:
00EC 22              325             RET
00ED                 326     ROW1:
00ED 75A07F          327             MOV     P2,#01111111B           
00F0 7172            328             CALL    DELAY                
00F2 E5A0            329             MOV     A,P2                     
00F4 540F            330             ANL     A,#0FH                   
00F6 7900            331             MOV     R1,#0                   
00F8 B40F2C          332             CJNE    A,#0FH,COL1                             
00FB                 333     ROW2:
00FB 75A0BF          334             MOV     P2,#10111111B            
00FE 7172            335             CALL    DELAY                 
0100 E5A0            336             MOV     A,P2                    
0102 540F            337             ANL     A,#0FH              
0104 7904            338             MOV     R1,#4                
0106 B40F1E          339             CJNE    A,#0FH,COL1  
0109                 340     ROW3:
0109 75A0DF          341             MOV     P2,#11011111B        
010C 7172            342             CALL    DELAY               
010E E5A0            343             MOV     A,P2                 
0110 540F            344             ANL     A,#0FH               
0112 7908            345             MOV     R1,#8                
0114 B40F10          346             CJNE    A,#0FH,COL1                         
0117                 347     ROW4:
0117 75A0EF          348             MOV     P2,#11101111B        
011A 7172            349             CALL    DELAY 
011C E5A0            350             MOV     A,P2                          
011E 540F            351             ANL     A,#0FH                   
0120 790C            352             MOV     R1,#12                   
0122 B40F24          353             CJNE    A,#0FH,CO1                           
0125 806D            354             JMP     BACKSHOW                  
0127                 355     COL1:
0127 B40E04          356             CJNE    A,#0EH,COL2
012A 7800            357             MOV     R0,#0 
012C 8051            358             JMP     GOSHOW                       
012E                 359     COL2:
012E B40D04          360             CJNE    A,#0DH,COL3 
0131 7801            361             MOV     R0,#1                  
0133 804A            362             JMP     GOSHOW                        
0135                 363     COL3:
0135 B40B07          364             CJNE    A,#0BH,COL4      
0138 B9083C          365             CJNE    R1,#8,CO3
013B 714F            366             CALL    SETTIME
013D 8055            367             JMP     BACKSHOW
013F                 368     COL4:
013F B40752          369             CJNE    A,#07H,BACKSHOW       
0142 B90836          370             CJNE    R1,#8,CO4
0145 715E            371             CALL    STARTCLK
0147 804B            372             JMP     BACKSHOW
0149                 373     CO1:
0149 B40E04          374             CJNE    A,#0EH,CO1_1
014C 7196            375             CALL    SETALA  
014E 8044            376             JMP     BACKSHOW
0150                 377     CO1_1:
0150 B40D04          378             CJNE    A,#0DH,CO1_2
0153 719C            379             CALL    STARTALA                         
0155 803D            380             JMP     BACKSHOW
0157                 381     CO1_2:
0157 B40B13          382             CJNE    A,#0BH,CO1_3
015A E524            383             MOV     A,24H
015C B52502          384             CJNE    A,25H,CO1_2_1
015F 8033            385             JMP     BACKSHOW
0161                 386     CO1_2_1:
0161 852524          387             MOV     24H,25H
0164 752503          388             MOV     25H,#3
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE     7

0167 7177            389             CALL    DELAYB
0169 71F8            390             CALL    INIADC  
016B 8027            391             JMP     BACKSHOW
016D                 392     CO1_3:
016D B40724          393             CJNE    A,#07H,BACKSHOW
0170 852425          394             MOV     25H,24H
0173 7177            395             CALL    DELAYB  
0175 801D            396             JMP     BACKSHOW
0177                 397     CO3:
0177 7802            398             MOV     R0,#2                   
0179 8004            399             JMP     GOSHOW                 
017B                 400     CO4:
017B 7803            401             MOV     R0,#3
017D 8000            402             JMP     GOSHOW
017F                 403     GOSHOW:
017F BE0002          404             CJNE    R6,#0,GOSHOW1
0182 8010            405             JMP     BACKSHOW
0184                 406     GOSHOW1:
0184 AF25            407             MOV     R7,25H
0186 BF0104          408             CJNE    R7,#1,GOSHOW2
0189 5130            409             CALL    SH
018B 8007            410             JMP     BACKSHOW
018D                 411     GOSHOW2:
018D BF0302          412             CJNE    R7,#3,GOSHOW3
0190 8002            413             JMP     BACKSHOW
0192                 414     GOSHOW3:
0192 3195            415             CALL    SHOW
0194                 416     BACKSHOW:
0194 22              417             RET
0195                 418     SHOW:   
0195 BE041D          419             CJNE    R6,#4,SHOW1       
0198 E9              420             MOV     A,R1
0199 28              421             ADD     A,R0
019A B40006          422             CJNE    A,#0,SHOW_1
019D FA              423             MOV     R2,A
019E 1E              424             DEC     R6
019F 7177            425             CALL    DELAYB
01A1 412F            426             JMP     BACK                   
01A3                 427     SHOW_1:
01A3 B40106          428             CJNE    A,#1,SHOW_2
01A6 FA              429             MOV     R2,A
01A7 1E              430             DEC     R6
01A8 7177            431             CALL    DELAYB
01AA 412F            432             JMP     BACK 
01AC                 433     SHOW_2:
01AC B40232          434             CJNE    A,#2,BACKBACK
01AF FA              435             MOV     R2,A
01B0 1E              436             DEC     R6
01B1 7177            437             CALL    DELAYB
01B3 807A            438             JMP     BACK
01B5                 439     SHOW1:
01B5 BE0331          440             CJNE    R6,#3,SHOW2      
01B8 E9              441             MOV     A,R1
01B9 28              442             ADD     A,R0
01BA BA0226          443             CJNE    R2,#2,SHOW1_1_1
01BD B40006          444             CJNE    A,#0,SHOW1_1
01C0 FB              445             MOV     R3,A
01C1 1E              446             DEC     R6 
01C2 7177            447             CALL    DELAYB
01C4 8069            448             JMP     BACK
01C6                 449     SHOW1_1:
01C6 B40106          450             CJNE    A,#1,SHOW1_2
01C9 FB              451             MOV     R3,A
01CA 1E              452             DEC     R6
01CB 7177            453             CALL    DELAYB
01CD 8060            454             JMP     BACK                  
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE     8

01CF                 455     SHOW1_2:
01CF B40206          456             CJNE    A,#2,SHOW1_3
01D2 FB              457             MOV     R3,A
01D3 1E              458             DEC     R6
01D4 7177            459             CALL    DELAYB
01D6 8057            460             JMP     BACK
01D8                 461     SHOW1_3:
01D8 B40306          462             CJNE    A,#3,BACKBACK
01DB FB              463             MOV     R3,A
01DC 1E              464             DEC     R6
01DD 7177            465             CALL    DELAYB
01DF 804E            466             JMP     BACK
01E1                 467     BACKBACK:
01E1 804C            468             JMP     BACK
01E3                 469     SHOW1_1_1:
01E3 FB              470             MOV     R3,A
01E4 1E              471             DEC     R6
01E5 7177            472             CALL    DELAYB
01E7 8046            473             JMP     BACK
01E9                 474     SHOW2:
01E9 BE0238          475             CJNE    R6,#2,SHOW3     
01EC E9              476             MOV     A,R1
01ED 28              477             ADD     A,R0
01EE B40006          478             CJNE    A,#0,SHOW2_1
01F1 FC              479             MOV     R4,A
01F2 1E              480             DEC     R6
01F3 7177            481             CALL    DELAYB
01F5 8038            482             JMP     BACK
01F7                 483     SHOW2_1:
01F7 B40106          484             CJNE    A,#1,SHOW2_2
01FA FC              485             MOV     R4,A
01FB 1E              486             DEC     R6
01FC 7177            487             CALL    DELAYB
01FE 802F            488             JMP     BACK
0200                 489     SHOW2_2:
0200 B40206          490             CJNE    A,#2,SHOW2_3
0203 FC              491             MOV     R4,A
0204 1E              492             DEC     R6
0205 7177            493             CALL    DELAYB
0207 8026            494             JMP     BACK
0209                 495     SHOW2_3:
0209 B40306          496             CJNE    A,#3,SHOW2_4
020C FC              497             MOV     R4,A
020D 1E              498             DEC     R6
020E 7177            499             CALL    DELAYB
0210 801D            500             JMP     BACK
0212                 501     SHOW2_4:
0212 B40406          502             CJNE    A,#4,SHOW2_5
0215 FC              503             MOV     R4,A
0216 1E              504             DEC     R6
0217 7177            505             CALL    DELAYB
0219 8014            506             JMP     BACK
021B                 507     SHOW2_5:
021B B40511          508             CJNE    A,#5,BACK
021E FC              509             MOV     R4,A
021F 1E              510             DEC     R6
0220 7177            511             CALL    DELAYB
0222 800B            512             JMP     BACK
0224                 513     SHOW3:
0224 BE0108          514             CJNE    R6,#1,BACK
0227 E9              515             MOV     A,R1
0228 28              516             ADD     A,R0
0229 FD              517             MOV     R5,A
022A 1E              518             DEC     R6
022B 7177            519             CALL    DELAYB
022D 8000            520             JMP     BACK
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE     9

022F                 521     BACK:
022F 22              522             RET
0230                 523     SH:     
0230 BE0420          524             CJNE    R6,#4,SH1       
0233 E9              525             MOV     A,R1
0234 28              526             ADD     A,R0
0235 B40007          527             CJNE    A,#0,SH_1
0238 F527            528             MOV     27H,A
023A 1E              529             DEC     R6
023B 7177            530             CALL    DELAYB
023D 41DB            531             JMP     BA                  
023F                 532     SH_1:
023F B40107          533             CJNE    A,#1,SH_2
0242 F527            534             MOV     27H,A
0244 1E              535             DEC     R6
0245 7177            536             CALL    DELAYB
0247 41DB            537             JMP     BA 
0249                 538     SH_2:
0249 B40239          539             CJNE    A,#2,BABA
024C F527            540             MOV     27H,A
024E 1E              541             DEC     R6
024F 7177            542             CALL    DELAYB
0251 41DB            543             JMP     BA
0253                 544     SH1:
0253 BE0338          545             CJNE    R6,#3,SH2      
0256 E9              546             MOV     A,R1
0257 28              547             ADD     A,R0
0258 AF27            548             MOV     R7,27H
025A BF022A          549             CJNE    R7,#2,SH1_1_1
025D B40007          550             CJNE    A,#0,SH1_1
0260 F528            551             MOV     28H,A
0262 1E              552             DEC     R6 
0263 7177            553             CALL    DELAYB
0265 8074            554             JMP     BA
0267                 555     SH1_1:
0267 B40107          556             CJNE    A,#1,SH1_2
026A F528            557             MOV     28H,A
026C 1E              558             DEC     R6
026D 7177            559             CALL    DELAYB
026F 806A            560             JMP     BA                  
0271                 561     SH1_2:
0271 B40207          562             CJNE    A,#2,SH1_3
0274 F528            563             MOV     28H,A
0276 1E              564             DEC     R6
0277 7177            565             CALL    DELAYB
0279 8060            566             JMP     BA
027B                 567     SH1_3:
027B B40307          568             CJNE    A,#3,BABA
027E F528            569             MOV     28H,A
0280 1E              570             DEC     R6
0281 7177            571             CALL    DELAYB
0283 8056            572             JMP     BA
0285                 573     BABA:
0285 8054            574             JMP     BA
0287                 575     SH1_1_1:
0287 F528            576             MOV     28H,A
0289 1E              577             DEC     R6
028A 7177            578             CALL    DELAYB
028C 804D            579             JMP     BA
028E                 580     SH2:
028E BE023E          581             CJNE    R6,#2,SH3     
0291 E9              582             MOV     A,R1
0292 28              583             ADD     A,R0
0293 B40007          584             CJNE    A,#0,SH2_1
0296 F529            585             MOV     29H,A
0298 1E              586             DEC     R6
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    10

0299 7177            587             CALL    DELAYB
029B 803E            588             JMP     BA
029D                 589     SH2_1:
029D B40107          590             CJNE    A,#1,SH2_2
02A0 F529            591             MOV     29H,A
02A2 1E              592             DEC     R6
02A3 7177            593             CALL    DELAYB
02A5 8034            594             JMP     BA
02A7                 595     SH2_2:
02A7 B40207          596             CJNE    A,#2,SH2_3
02AA F529            597             MOV     29H,A
02AC 1E              598             DEC     R6
02AD 7177            599             CALL    DELAYB
02AF 802A            600             JMP     BA
02B1                 601     SH2_3:
02B1 B40307          602             CJNE    A,#3,SH2_4
02B4 F529            603             MOV     29H,A
02B6 1E              604             DEC R6
02B7 7177            605             CALL    DELAYB
02B9 8020            606             JMP     BA
02BB                 607     SH2_4:
02BB B40407          608             CJNE    A,#4,SH2_5
02BE F529            609             MOV     29H,A
02C0 1E              610             DEC     R6
02C1 7177            611             CALL    DELAYB
02C3 8016            612             JMP     BA
02C5                 613     SH2_5:
02C5 B40513          614             CJNE    A,#5,BA
02C8 F529            615             MOV     29H,A
02CA 1E              616             DEC     R6
02CB 7177            617             CALL    DELAYB
02CD 800C            618             JMP     BA
02CF                 619     SH3:
02CF BE0109          620             CJNE    R6,#1,BA
02D2 E9              621             MOV     A,R1
02D3 28              622             ADD     A,R0
02D4 F530            623             MOV     30H,A
02D6 1E              624             DEC     R6
02D7 7177            625             CALL    DELAYB
02D9 8000            626             JMP     BA
02DB                 627     BA:
02DB 22              628             RET
02DC                 629     TRY:
02DC F536            630             MOV     36H,A
02DE AF25            631             MOV     R7,25H
02E0 BF0122          632             CJNE    R7,#1,TRY1
02E3 E530            633             MOV     A,30H
02E5 2470            634             ADD     A,#01110000B
02E7 F580            635             MOV     P0,A             
02E9 7172            636             CALL    DELAY
02EB E529            637             MOV     A,29H
02ED 24B0            638             ADD     A,#10110000B
02EF F580            639             MOV     P0,A                   
02F1 7172            640             CALL    DELAY
02F3 E528            641             MOV     A,28H
02F5 24D0            642             ADD     A,#11010000B
02F7 F580            643             MOV     P0,A                   
02F9 7172            644             CALL    DELAY
02FB E527            645             MOV     A,27H
02FD 24E0            646             ADD     A,#11100000B
02FF F580            647             MOV     P0,A                   
0301 7172            648             CALL    DELAY
0303 8047            649             JMP     BACKTRY
0305                 650     TRY1:
0305 BF0328          651             CJNE    R7,#3,TRY2
0308 7EFF            652             MOV     R6,#255
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    11

030A                 653     TRY1_1:
030A E535            654             MOV     A,35H
030C 2470            655             ADD     A,#01110000B
030E F580            656             MOV     P0,A                   
0310 7172            657             CALL    DELAY
0312 E534            658             MOV     A,34H
0314 24B0            659             ADD     A,#10110000B
0316 F580            660             MOV     P0,A                   
0318 7172            661             CALL    DELAY
031A E532            662             MOV     A,32H
031C 24D0            663             ADD     A,#11010000B
031E F580            664             MOV     P0,A                   
0320 7172            665             CALL    DELAY
0322 E531            666             MOV     A,31H
0324 24E0            667             ADD     A,#11100000B
0326 F580            668             MOV     P0,A                   
0328 7172            669             CALL    DELAY
032A DEDE            670             DJNZ    R6,TRY1_1
032C 7E00            671             MOV     R6,#0
032E 801C            672             JMP     BACKTRY
0330                 673     TRY2: 
0330 7470            674             MOV     A,#01110000B
0332 2D              675             ADD     A,R5
0333 F580            676             MOV     P0,A                   
0335 7172            677             CALL    DELAY
0337 74B0            678             MOV     A,#10110000B
0339 2C              679             ADD     A,R4
033A F580            680             MOV     P0,A                   
033C 7172            681             CALL    DELAY
033E 74D0            682             MOV     A,#11010000B
0340 2B              683             ADD     A,R3
0341 F580            684             MOV     P0,A                   
0343 7172            685             CALL    DELAY
0345 74E0            686             MOV     A,#11100000B
0347 2A              687             ADD     A,R2
0348 F580            688             MOV     P0,A                   
034A 7172            689             CALL    DELAY
034C                 690     BACKTRY:
034C E536            691             MOV     A,36H
034E 22              692             RET
034F                 693     SETTIME:
034F C28C            694             CLR     TR0
0351 C28D            695             CLR     TF0
0353 C2B7            696             CLR     P3.7         
0355 758B00          697             MOV     TL1,#0
0358 758D00          698             MOV     TH1,#0
035B 7E04            699             MOV     R6,#4
035D 22              700             RET
035E                 701     STARTCLK:
035E 758951          702             MOV     TMOD,#01010001B          ;SETB  IT0    ;MOV     T2CON,#00000000B   ;MOV RCA
                             P2H,#21    ;MOV      RCAP2L,#160
0361 758C15          703             MOV     TH0,#21
0364 758AA0          704             MOV     TL0,#160
0367 7E00            705             MOV     R6,#0
0369 C28F            706             CLR     TF1
036B C28D            707             CLR     TF0     
036D D28C            708             SETB    TR0
036F D28E            709             SETB    TR1
0371 22              710             RET
0372                 711     DELAY:
0372 7FFA            712             MOV     R7,#250               
0374                 713     DELAY2:
0374 DFFE            714             DJNZ    R7,DELAY2             
0376 22              715             RET
0377                 716     DELAYB:
0377 79C8            717             MOV     R1,#200
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    12

0379                 718     DELAYB1:
0379 7864            719             MOV     R0,#100
037B                 720     DELAYB2:
037B 7F28            721             MOV     R7,#40
037D                 722     DELAYB3:
037D DFFE            723             DJNZ    R7,DELAYB3              
037F D8FA            724             DJNZ    R0,DELAYB2               
0381 D9F6            725             DJNZ    R1,DELAYB1               
0383 22              726             RET
0384                 727     CHECKWA:
0384 209008          728             JB      90H,CHECKWA1
0387 75A8AF          729             MOV     IE,#10101111B
038A 75B82F          730             MOV     IP,#00101111B
038D 8006            731             JMP     BACKCHE
038F                 732     CHECKWA1:
038F 75A8AB          733             MOV     IE,#10101011B
0392 75B82B          734             MOV     IP,#00101011B
0395                 735     BACKCHE:
0395 22              736             RET     
0396                 737     SETALA:
0396 752501          738             MOV     25H,#1
0399 7E04            739             MOV     R6,#4
039B 22              740             RET
039C                 741     STARTALA:
039C 752502          742             MOV     25H,#2
039F 7E00            743             MOV     R6,#0
03A1 22              744             RET
03A2                 745     ALARM:
03A2 9005CB          746             MOV     DPTR,#SCALE
03A5 75C800          747             MOV     T2CON,#00000000B
03A8 7E01            748             MOV     R6,#1
03AA 7903            749             MOV     R1,#3
03AC 786E            750             MOV     R0,#110
03AE D288            751             SETB    IT0
03B0 75CDF7          752             MOV     TH2,#11110111B
03B3 75CC1F          753             MOV     TL2,#00011111B
03B6 75CBF7          754             MOV     RCAP2H,#11110111B
03B9 75CA1F          755             MOV     RCAP2L,#00011111B
03BC C2CF            756             CLR     TF2     
03BE D2CA            757             SETB    TR2
03C0                 758     LOOPALA:
03C0 51DC            759             CALL    TRY
03C2 BE00FB          760             CJNE    R6,#0,LOOPALA
03C5                 761     LOOPALA1:
03C5 51DC            762             CALL    TRY
03C7 ED              763             MOV     A,R5
03C8 B53002          764             CJNE    A,30H,BAALA
03CB 80F8            765             JMP     LOOPALA1
03CD                 766     BAALA:
03CD 22              767             RET
03CE                 768     TIMER2:
03CE C2CF            769             CLR     TF2
03D0 B2B6            770             CPL     P3.6
03D2 D817            771             DJNZ    R0,BACKALA
03D4 E9              772             MOV     A,R1
03D5 93              773             MOVC    A,@A+DPTR
03D6 F5CD            774             MOV     TH2,A
03D8 F5CB            775             MOV     RCAP2H,A
03DA 09              776             INC     R1
03DB E9              777             MOV     A,R1
03DC 93              778             MOVC    A,@A+DPTR
03DD F5CC            779             MOV     TL2,A
03DF F5CA            780             MOV     RCAP2L,A
03E1 09              781             INC     R1
03E2 E9              782             MOV     A,R1
03E3 93              783             MOVC    A,@A+DPTR
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    13

03E4 F8              784             MOV     R0,A
03E5 09              785             INC     R1
03E6 B92102          786             CJNE    R1,#33,BACKALA
03E9 7900            787             MOV     R1,#0
03EB                 788     BACKALA:
03EB 32              789             RETI
03EC                 790     STOPALA:
03EC C2CA            791             CLR     TR2
03EE C2CF            792             CLR     TF2
03F0 C2B6            793             CLR     P3.6
03F2 7E00            794             MOV     R6,#0
03F4 752500          795             MOV     25H,#0
03F7 32              796             RETI
03F8                 797     INIADC:
03F8 75C5E2          798             MOV     ADCTL,#0E2H ;ADCON=1, turn on ADC hardware  ;(SPEED1,SPEED0)=(1,1), Conv. T
                             ime= 270 clock cycles  ;select AIN0 (P1.2) as analog input
03FB 439104          799             ORL     P1M0,#00000100B ;P1M0,bit2=1 ;configure P1.2 as Input-Only Mode
03FE 5392FB          800             ANL     P1M1,#11111011B ;P1M1,bit2=0 ;
0401 438E40          801             ORL     AUXR,#01000000B ;ADRJ=0: ADCH contains B9~B2; ADCL contains B1,B0  ;now, su
                             ppose the analog input is ready on AIN2 (P1.2)
0404 43AD02          802             ORL     AUXIE,#00000010B
0407 53C5EF          803             ANL     ADCTL,#11101111B
040A 43C508          804             ORL     ADCTL,#00001000B
040D 7172            805             CALL    DELAY
040F                 806     LOOPADC:
040F AF25            807             MOV     R7,25H
0411 BF0312          808             CJNE    R7,#3,BAADC
0414 7184            809             CALL CHECKWA
0416 F522            810             MOV     22H,A
0418 E5C5            811             MOV     A,ADCTL
041A 5410            812             ANL     A,#00010000B
041C B400F0          813             CJNE    A,#00000000B,LOOPADC
041F 43C508          814             ORL     ADCTL,#00001000B
0422 7172            815             CALL    DELAY
0424 80E9            816             JMP     LOOPADC
0426                 817     BAADC:
0426 53C5E7          818             ANL     ADCTL,#11100111B
0429 752405          819             MOV     24H,#5
042C E522            820             MOV     A,22H
042E 22              821             RET
042F                 822     IADC:   
042F 53C5E7          823             ANL     ADCTL,#11100111B
0432 11ED            824             CALL    ROW1
0434 51DC            825             CALL    TRY
0436 7184            826             CALL CHECKWA
0438 E5BE            827             MOV     A,ADCL
043A 75F064          828             MOV     B,#100
043D 84              829             DIV     AB
043E F532            830             MOV     32H,A
0440 E5F0            831             MOV     A,B
0442 75F00A          832             MOV     B,#10
0445 84              833             DIV     AB
0446 F534            834             MOV     34H,A
0448 E5F0            835             MOV     A,B
044A F535            836             MOV     35H,A
044C E5C6            837             MOV     A,ADCH
044E                 838     ADC0:
044E B40005          839             CJNE    A,#0,ADC1
0451 753100          840             MOV     31H,#0
0454 A1B5            841             JMP     BACKADC
0456                 842     ADC1:
0456 B40178          843             CJNE    A,#1,ADC2
0459 E535            844             MOV     A,35H
045B B40006          845             CJNE    A,#0,ADC1_1
045E 2406            846             ADD     A,#6
0460 F535            847             MOV     35H,A
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    14

0462 8027            848             JMP     ADC1_1_0
0464                 849     ADC1_1:
0464 B40106          850             CJNE    A,#1,ADC1_2
0467 2406            851             ADD     A,#6
0469 F535            852             MOV     35H,A
046B 801E            853             JMP     ADC1_1_0
046D                 854     ADC1_2:
046D B40206          855             CJNE    A,#2,ADC1_3
0470 2406            856             ADD     A,#6
0472 F535            857             MOV     35H,A
0474 8015            858             JMP     ADC1_1_0
0476                 859     ADC1_3:
0476 B40306          860             CJNE    A,#3,ADC1_4
0479 2406            861             ADD     A,#6
047B F535            862             MOV     35H,A
047D 800C            863             JMP     ADC1_1_0
047F                 864     ADC1_4:
047F 2406            865             ADD     A,#6
0481 940A            866             SUBB    A,#10
0483 F535            867             MOV     35H,A
0485 E534            868             MOV     A,34H
0487 2401            869             ADD     A,#1
0489 F534            870             MOV     34H,A
048B                 871     ADC1_1_0:
048B E534            872             MOV     A,34H
048D B40006          873             CJNE    A,#0,ADC1_1_1
0490 2405            874             ADD     A,#5
0492 F534            875             MOV     34H,A
0494 8030            876             JMP     ADC1_B
0496                 877     ADC1_1_1:
0496 B40106          878             CJNE    A,#1,ADC1_1_2
0499 2405            879             ADD     A,#5
049B F534            880             MOV     34H,A
049D 8027            881             JMP     ADC1_B
049F                 882     ADC1_1_2:
049F B40206          883             CJNE    A,#2,ADC1_1_3
04A2 2405            884             ADD     A,#5
04A4 F534            885             MOV     34H,A
04A6 801E            886             JMP     ADC1_B
04A8                 887     ADC1_1_3:
04A8 B40306          888             CJNE    A,#3,ADC1_1_4
04AB 2405            889             ADD     A,#5
04AD F534            890             MOV     34H,A
04AF 8015            891             JMP     ADC1_B
04B1                 892     ADC1_1_4:
04B1 B40406          893             CJNE    A,#4,ADC1_1_5
04B4 2405            894             ADD     A,#5
04B6 F534            895             MOV     34H,A
04B8 800C            896             JMP     ADC1_B
04BA                 897     ADC1_1_5:
04BA 2405            898             ADD     A,#5
04BC 940A            899             SUBB    A,#10
04BE F534            900             MOV     34H,A
04C0 E532            901             MOV     A,32H
04C2 2401            902             ADD     A,#1
04C4 F532            903             MOV     32H,A
04C6                 904     ADC1_B:
04C6 E532            905             MOV     A,32H
04C8 2402            906             ADD     A,#2
04CA F532            907             MOV     32H,A
04CC 753100          908             MOV     31H,#0
04CF A1B5            909             JMP     BACKADC 
04D1                 910     ADC2:
04D1 B4025B          911             CJNE    A,#2,ADC3
04D4 E535            912             MOV     A,35H
04D6 B4080E          913             CJNE    A,#8,ADC2_1
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    15

04D9 2402            914             ADD     A,#2
04DB 940A            915             SUBB    A,#10
04DD F535            916             MOV     35H,A
04DF E534            917             MOV     A,34H
04E1 2401            918             ADD     A,#1
04E3 F534            919             MOV     34H,A
04E5 8015            920             JMP     ADC2_1_0
04E7                 921     ADC2_1:
04E7 B4090E          922             CJNE    A,#9,ADC2_2
04EA 2402            923             ADD     A,#2
04EC 940A            924             SUBB    A,#10
04EE F535            925             MOV     35H,A
04F0 E534            926             MOV     A,34H
04F2 2401            927             ADD     A,#1
04F4 F534            928             MOV     34H,A
04F6 8004            929             JMP     ADC2_1_0
04F8                 930     ADC2_2:
04F8 2402            931             ADD     A,#2
04FA F535            932             MOV     35H,A
04FC                 933     ADC2_1_0:
04FC E534            934             MOV     A,34H
04FE B4090E          935             CJNE    A,#9,ADC2_1_1
0501 2401            936             ADD     A,#1
0503 940A            937             SUBB    A,#10
0505 F534            938             MOV     34H,A
0507 E532            939             MOV     A,32H
0509 2401            940             ADD     A,#1
050B F532            941             MOV     32H,A
050D 8015            942             JMP     ADC2_B
050F                 943     ADC2_1_1:
050F B40A0E          944             CJNE    A,#10,ADC2_1_2
0512 2401            945             ADD     A,#1
0514 940A            946             SUBB    A,#10
0516 F534            947             MOV     34H,A
0518 E532            948             MOV     A,32H
051A 2401            949             ADD     A,#1
051C F532            950             MOV     32H,A
051E 8004            951             JMP     ADC2_B
0520                 952     ADC2_1_2:
0520 2401            953             ADD     A,#1
0522 F534            954             MOV     34H,A
0524                 955     ADC2_B:
0524 E532            956             MOV     A,32H
0526 2405            957             ADD     A,#5
0528 F532            958             MOV     32H,A
052A 753100          959             MOV     31H,#0
052D A1B5            960             JMP     BACKADC         
052F                 961     ADC3:
052F B40346          962             CJNE    A,#3,GOBAADC
0532 E535            963             MOV     A,35H
0534 B40006          964             CJNE    A,#0,ADC3_1
0537 2408            965             ADD     A,#8
0539 F535            966             MOV     35H,A
053B 8015            967             JMP     ADC3_1_0
053D                 968     ADC3_1:
053D B40106          969             CJNE    A,#1,ADC3_2
0540 2408            970             ADD     A,#8
0542 F535            971             MOV     35H,A
0544 800C            972             JMP     ADC3_1_0
0546                 973     ADC3_2:
0546 2408            974             ADD     A,#8
0548 940A            975             SUBB    A,#10
054A F535            976             MOV     35H,A
054C E534            977             MOV     A,34H
054E 2401            978             ADD     A,#1
0550 F534            979             MOV     34H,A
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    16

0552                 980     ADC3_1_0:
0552 E534            981             MOV     A,34H
0554 B40006          982             CJNE    A,#0,ADC3_1_1
0557 2406            983             ADD     A,#6
0559 F534            984             MOV     34H,A
055B 8029            985             JMP     ADC3_2_0
055D                 986     ADC3_1_1:
055D B40106          987             CJNE    A,#1,ADC3_1_2
0560 2406            988             ADD     A,#6
0562 F534            989             MOV     34H,A
0564 8020            990             JMP     ADC3_2_0
0566                 991     ADC3_1_2:
0566 B40206          992             CJNE    A,#2,ADC3_1_3
0569 2406            993             ADD     A,#6
056B F534            994             MOV     34H,A
056D 8017            995             JMP     ADC3_2_0
056F                 996     ADC3_1_3:
056F B40308          997             CJNE    A,#3,ADC3_1_4
0572 2406            998             ADD     A,#6
0574 F534            999             MOV     34H,A
0576 800E           1000             JMP     ADC3_2_0
0578                1001     GOBAADC:
0578 803B           1002             JMP     BACKADC
057A                1003     ADC3_1_4:
057A 2406           1004             ADD     A,#6
057C 940A           1005             SUBB    A,#10
057E F534           1006             MOV     34H,A
0580 E532           1007             MOV     A,32H
0582 2401           1008             ADD     A,#1
0584 F532           1009             MOV     32H,A
0586                1010     ADC3_2_0:
0586 E532           1011             MOV     A,32H
0588 B40009         1012             CJNE    A,#0,ADC3_2_1
058B 2407           1013             ADD     A,#7
058D F532           1014             MOV     32H,A
058F 753100         1015             MOV     31H,#0
0592 8021           1016             JMP     BACKADC
0594                1017     ADC3_2_1:
0594 B40109         1018             CJNE    A,#1,ADC3_2_2
0597 2407           1019             ADD     A,#7
0599 F532           1020             MOV     32H,A
059B 753100         1021             MOV     31H,#0
059E 8015           1022             JMP     BACKADC
05A0                1023     ADC3_2_2:
05A0 B40209         1024             CJNE    A,#2,ADC3_2_3
05A3 2407           1025             ADD     A,#7
05A5 F532           1026             MOV     32H,A
05A7 753100         1027             MOV     31H,#0
05AA 8009           1028             JMP     BACKADC
05AC                1029     ADC3_2_3:
05AC 2407           1030             ADD     A,#7
05AE 940A           1031             SUBB    A,#10
05B0 F532           1032             MOV     32H,A
05B2 753101         1033             MOV     31H,#1  
05B5                1034     BACKADC:
05B5 51DC           1035             CALL    TRY
05B7 32             1036             RETI
05B8                1037     WARN:
05B8 795A           1038             MOV     R1,#90
05BA                1039     WARN1:
05BA 7802           1040             MOV     R0,#2
05BC                1041     WARN2:
05BC D2B6           1042             SETB    P3.6
05BE 7172           1043             CALL    DELAY
05C0 C2B6           1044             CLR     P3.6
05C2 7172           1045             CALL    DELAY
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    17

05C4 D8F6           1046             DJNZ    R0,WARN2
05C6 D9F2           1047             DJNZ    R1,WARN1
05C8 51DC           1048             CALL    TRY
05CA 32             1049             RETI
05CB                1050     SCALE:
05CB F71F6E         1051             DB      11110111B,00011111B,110 
05CE F4CE57         1052             DB      11110100B,11001110B,87
05D1 F11741         1053             DB      11110001B,00010111B,65
05D4 F4CE57         1054             DB      11110100B,11001110B,87
05D7 F60862         1055             DB      11110110B,00001000B,98
05DA F888FA         1056             DB      11111000B,10001000B,250
05DD F60862         1057             DB      11110110B,00001000B,98
05E0 F71F6E         1058             DB      11110111B,00011111B,110
05E3 F60862         1059             DB      11110110B,00001000B,98
05E6 F11741         1060             DB      11110001B,00010111B,65
05E9 F4CEAF         1061             DB      11110100B,11001110B,175
                    1062     END
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    18

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
ADC. . . . . . . .  D ADDR   00C6H   A   
ADC0 . . . . . . .  C ADDR   044EH   A   
ADC1 . . . . . . .  C ADDR   0456H   A   
ADC1_1 . . . . . .  C ADDR   0464H   A   
ADC1_1_0 . . . . .  C ADDR   048BH   A   
ADC1_1_1 . . . . .  C ADDR   0496H   A   
ADC1_1_2 . . . . .  C ADDR   049FH   A   
ADC1_1_3 . . . . .  C ADDR   04A8H   A   
ADC1_1_4 . . . . .  C ADDR   04B1H   A   
ADC1_1_5 . . . . .  C ADDR   04BAH   A   
ADC1_2 . . . . . .  C ADDR   046DH   A   
ADC1_3 . . . . . .  C ADDR   0476H   A   
ADC1_4 . . . . . .  C ADDR   047FH   A   
ADC1_B . . . . . .  C ADDR   04C6H   A   
ADC2 . . . . . . .  C ADDR   04D1H   A   
ADC2_1 . . . . . .  C ADDR   04E7H   A   
ADC2_1_0 . . . . .  C ADDR   04FCH   A   
ADC2_1_1 . . . . .  C ADDR   050FH   A   
ADC2_1_2 . . . . .  C ADDR   0520H   A   
ADC2_2 . . . . . .  C ADDR   04F8H   A   
ADC2_B . . . . . .  C ADDR   0524H   A   
ADC3 . . . . . . .  C ADDR   052FH   A   
ADC3_1 . . . . . .  C ADDR   053DH   A   
ADC3_1_0 . . . . .  C ADDR   0552H   A   
ADC3_1_1 . . . . .  C ADDR   055DH   A   
ADC3_1_2 . . . . .  C ADDR   0566H   A   
ADC3_1_3 . . . . .  C ADDR   056FH   A   
ADC3_1_4 . . . . .  C ADDR   057AH   A   
ADC3_2 . . . . . .  C ADDR   0546H   A   
ADC3_2_0 . . . . .  C ADDR   0586H   A   
ADC3_2_1 . . . . .  C ADDR   0594H   A   
ADC3_2_2 . . . . .  C ADDR   05A0H   A   
ADC3_2_3 . . . . .  C ADDR   05ACH   A   
ADCH . . . . . . .  D ADDR   00C6H   A   
ADCL . . . . . . .  D ADDR   00BEH   A   
ADCTL. . . . . . .  D ADDR   00C5H   A   
ALARM. . . . . . .  C ADDR   03A2H   A   
AUXIE. . . . . . .  D ADDR   00ADH   A   
AUXIP. . . . . . .  D ADDR   00AEH   A   
AUXIPH . . . . . .  D ADDR   00AFH   A   
AUXR . . . . . . .  D ADDR   008EH   A   
AUXR1. . . . . . .  D ADDR   00A2H   A   
AUXR2. . . . . . .  D ADDR   00A6H   A   
B. . . . . . . . .  D ADDR   00F0H   A   
BA . . . . . . . .  C ADDR   02DBH   A   
BAADC. . . . . . .  C ADDR   0426H   A   
BAALA. . . . . . .  C ADDR   03CDH   A   
BABA . . . . . . .  C ADDR   0285H   A   
BACK . . . . . . .  C ADDR   022FH   A   
BACKADC. . . . . .  C ADDR   05B5H   A   
BACKALA. . . . . .  C ADDR   03EBH   A   
BACKBACK . . . . .  C ADDR   01E1H   A   
BACKCHE. . . . . .  C ADDR   0395H   A   
BACKDELAY. . . . .  C ADDR   00CCH   A   
BACKSHOW . . . . .  C ADDR   0194H   A   
BACKTRY. . . . . .  C ADDR   034CH   A   
BEGIN. . . . . . .  C ADDR   008DH   A   
CCAP0H . . . . . .  D ADDR   00FAH   A   
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    19

CCAP0L . . . . . .  D ADDR   00EAH   A   
CCAP1H . . . . . .  D ADDR   00FBH   A   
CCAP1L . . . . . .  D ADDR   00EBH   A   
CCAP2H . . . . . .  D ADDR   00FCH   A   
CCAP2L . . . . . .  D ADDR   00ECH   A   
CCAP3H . . . . . .  D ADDR   00FDH   A   
CCAP3L . . . . . .  D ADDR   00EDH   A   
CCAP4H . . . . . .  D ADDR   00FEH   A   
CCAP4L . . . . . .  D ADDR   00EEH   A   
CCAP5H . . . . . .  D ADDR   00FFH   A   
CCAP5L . . . . . .  D ADDR   00EFH   A   
CCAPM0 . . . . . .  D ADDR   00DAH   A   
CCAPM1 . . . . . .  D ADDR   00DBH   A   
CCAPM2 . . . . . .  D ADDR   00DCH   A   
CCAPM3 . . . . . .  D ADDR   00DDH   A   
CCAPM4 . . . . . .  D ADDR   00DEH   A   
CCAPM5 . . . . . .  D ADDR   00DFH   A   
CCF0 . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . .  B ADDR   00D8H.4 A   
CCF5 . . . . . . .  B ADDR   00D8H.5 A   
CCON . . . . . . .  D ADDR   00D8H   A   
CEX0 . . . . . . .  B ADDR   0090H.2 A   
CEX1 . . . . . . .  B ADDR   0090H.3 A   
CEX2 . . . . . . .  B ADDR   0090H.4 A   
CEX3 . . . . . . .  B ADDR   0090H.5 A   
CEX4 . . . . . . .  B ADDR   0090H.6 A   
CEX5 . . . . . . .  B ADDR   0090H.7 A   
CF . . . . . . . .  B ADDR   00D8H.7 A   
CH . . . . . . . .  D ADDR   00F9H   A   
CHECKWA. . . . . .  C ADDR   0384H   A   
CHECKWA1 . . . . .  C ADDR   038FH   A   
CL . . . . . . . .  D ADDR   00E9H   A   
CMOD . . . . . . .  D ADDR   00D9H   A   
CO1. . . . . . . .  C ADDR   0149H   A   
CO1_1. . . . . . .  C ADDR   0150H   A   
CO1_2. . . . . . .  C ADDR   0157H   A   
CO1_2_1. . . . . .  C ADDR   0161H   A   
CO1_3. . . . . . .  C ADDR   016DH   A   
CO3. . . . . . . .  C ADDR   0177H   A   
CO4. . . . . . . .  C ADDR   017BH   A   
COL1 . . . . . . .  C ADDR   0127H   A   
COL2 . . . . . . .  C ADDR   012EH   A   
COL3 . . . . . . .  C ADDR   0135H   A   
COL4 . . . . . . .  C ADDR   013FH   A   
CP_RL2 . . . . . .  B ADDR   00C8H.0 A   
CR . . . . . . . .  B ADDR   00D8H.6 A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
C_T2 . . . . . . .  B ADDR   00C8H.1 A   
DELAY. . . . . . .  C ADDR   0372H   A   
DELAY2 . . . . . .  C ADDR   0374H   A   
DELAY60MS. . . . .  C ADDR   00ACH   A   
DELAYB . . . . . .  C ADDR   0377H   A   
DELAYB1. . . . . .  C ADDR   0379H   A   
DELAYB2. . . . . .  C ADDR   037BH   A   
DELAYB3. . . . . .  C ADDR   037DH   A   
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
ECI. . . . . . . .  B ADDR   0090H.1 A   
ES . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . .  B ADDR   00A8H.5 A   
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    20

EVRCR. . . . . . .  D ADDR   0097H   A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
EX2. . . . . . . .  B ADDR   00C0H.2 A   
EX3. . . . . . . .  B ADDR   00C0H.6 A   
EXEN2. . . . . . .  B ADDR   00C8H.3 A   
EXF2 . . . . . . .  B ADDR   00C8H.6 A   
F0 . . . . . . . .  B ADDR   00D0H.5 A   
FE . . . . . . . .  B ADDR   0098H.7 A   
GOBAADC. . . . . .  C ADDR   0578H   A   
GOBACK . . . . . .  C ADDR   00ECH   A   
GOSHOW . . . . . .  C ADDR   017FH   A   
GOSHOW1. . . . . .  C ADDR   0184H   A   
GOSHOW2. . . . . .  C ADDR   018DH   A   
GOSHOW3. . . . . .  C ADDR   0192H   A   
HOUR . . . . . . .  C ADDR   00E6H   A   
IADC . . . . . . .  C ADDR   042FH   A   
IE . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
IE2. . . . . . . .  B ADDR   00C0H.1 A   
IE3. . . . . . . .  B ADDR   00C0H.5 A   
IFADRH . . . . . .  D ADDR   00E3H   A   
IFADRL . . . . . .  D ADDR   00E4H   A   
IFD. . . . . . . .  D ADDR   00E2H   A   
IFMT . . . . . . .  D ADDR   00E5H   A   
INIADC . . . . . .  C ADDR   03F8H   A   
INT0 . . . . . . .  B ADDR   00B0H.2 A   
INT1 . . . . . . .  B ADDR   00B0H.3 A   
INT2 . . . . . . .  B ADDR   00E8H.3 A   
INT3 . . . . . . .  B ADDR   00E8H.2 A   
IP . . . . . . . .  D ADDR   00B8H   A   
IPH. . . . . . . .  D ADDR   00B7H   A   
ISPCR. . . . . . .  D ADDR   00E7H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
IT2. . . . . . . .  B ADDR   00C0H.0 A   
IT3. . . . . . . .  B ADDR   00C0H.4 A   
KBCON. . . . . . .  D ADDR   00D6H   A   
KBMASK . . . . . .  D ADDR   00D7H   A   
KBPATN . . . . . .  D ADDR   00D5H   A   
LOOPADC. . . . . .  C ADDR   040FH   A   
LOOPALA. . . . . .  C ADDR   03C0H   A   
LOOPALA1 . . . . .  C ADDR   03C5H   A   
MIN. . . . . . . .  C ADDR   00CDH   A   
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P0M0 . . . . . . .  D ADDR   0093H   A   
P0M1 . . . . . . .  D ADDR   0094H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P1M0 . . . . . . .  D ADDR   0091H   A   
P1M1 . . . . . . .  D ADDR   0092H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P2M0 . . . . . . .  D ADDR   0095H   A   
P2M1 . . . . . . .  D ADDR   0096H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
P3M0 . . . . . . .  D ADDR   00B1H   A   
P3M1 . . . . . . .  D ADDR   00B2H   A   
P4 . . . . . . . .  D ADDR   00E8H   A   
P4M0 . . . . . . .  D ADDR   00B3H   A   
P4M1 . . . . . . .  D ADDR   00B4H   A   
PCAPWM0. . . . . .  D ADDR   00F2H   A   
PCAPWM1. . . . . .  D ADDR   00F3H   A   
PCAPWM2. . . . . .  D ADDR   00F4H   A   
PCAPWM3. . . . . .  D ADDR   00F5H   A   
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    21

PCAPWM4. . . . . .  D ADDR   00F6H   A   
PCAPWM5. . . . . .  D ADDR   00F7H   A   
PCON . . . . . . .  D ADDR   0087H   A   
PCON2. . . . . . .  D ADDR   00C7H   A   
PS . . . . . . . .  B ADDR   00B8H.4 A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . .  B ADDR   00B8H.5 A   
PX0. . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . .  B ADDR   00B8H.2 A   
PX2. . . . . . . .  B ADDR   00C0H.3 A   
PX3. . . . . . . .  B ADDR   00C0H.7 A   
RB8. . . . . . . .  B ADDR   0098H.2 A   
RCAP2H . . . . . .  D ADDR   00CBH   A   
RCAP2L . . . . . .  D ADDR   00CAH   A   
RCLK . . . . . . .  B ADDR   00C8H.5 A   
RD . . . . . . . .  B ADDR   00B0H.7 A   
REN. . . . . . . .  B ADDR   0098H.4 A   
RI . . . . . . . .  B ADDR   0098H.0 A   
ROW1 . . . . . . .  C ADDR   00EDH   A   
ROW2 . . . . . . .  C ADDR   00FBH   A   
ROW3 . . . . . . .  C ADDR   0109H   A   
ROW4 . . . . . . .  C ADDR   0117H   A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
RXD. . . . . . . .  B ADDR   00B0H.0 A   
S2BRT. . . . . . .  D ADDR   00BAH   A   
S2BUF. . . . . . .  D ADDR   009AH   A   
S2CKO. . . . . . .  B ADDR   00B0H.5 A   
S2CON. . . . . . .  D ADDR   00AAH   A   
S2RXD. . . . . . .  B ADDR   0090H.2 A   
S2TXD. . . . . . .  B ADDR   0090H.3 A   
SADDR. . . . . . .  D ADDR   00A9H   A   
SADEN. . . . . . .  D ADDR   00B9H   A   
SBUF . . . . . . .  D ADDR   0099H   A   
SCALE. . . . . . .  C ADDR   05CBH   A   
SCMD . . . . . . .  D ADDR   00E6H   A   
SCON . . . . . . .  D ADDR   0098H   A   
SETALA . . . . . .  C ADDR   0396H   A   
SETTIME. . . . . .  C ADDR   034FH   A   
SH . . . . . . . .  C ADDR   0230H   A   
SH1. . . . . . . .  C ADDR   0253H   A   
SH1_1. . . . . . .  C ADDR   0267H   A   
SH1_1_1. . . . . .  C ADDR   0287H   A   
SH1_2. . . . . . .  C ADDR   0271H   A   
SH1_3. . . . . . .  C ADDR   027BH   A   
SH2. . . . . . . .  C ADDR   028EH   A   
SH2_1. . . . . . .  C ADDR   029DH   A   
SH2_2. . . . . . .  C ADDR   02A7H   A   
SH2_3. . . . . . .  C ADDR   02B1H   A   
SH2_4. . . . . . .  C ADDR   02BBH   A   
SH2_5. . . . . . .  C ADDR   02C5H   A   
SH3. . . . . . . .  C ADDR   02CFH   A   
SHOW . . . . . . .  C ADDR   0195H   A   
SHOW1. . . . . . .  C ADDR   01B5H   A   
SHOW1_1. . . . . .  C ADDR   01C6H   A   
SHOW1_1_1. . . . .  C ADDR   01E3H   A   
SHOW1_2. . . . . .  C ADDR   01CFH   A   
SHOW1_3. . . . . .  C ADDR   01D8H   A   
SHOW2. . . . . . .  C ADDR   01E9H   A   
SHOW2_1. . . . . .  C ADDR   01F7H   A   
SHOW2_2. . . . . .  C ADDR   0200H   A   
SHOW2_3. . . . . .  C ADDR   0209H   A   
SHOW2_4. . . . . .  C ADDR   0212H   A   
SHOW2_5. . . . . .  C ADDR   021BH   A   
A51 MACRO ASSEMBLER  PROJECT_4                                                            01/18/2018 22:45:40 PAGE    22

SHOW3. . . . . . .  C ADDR   0224H   A   
SHOW_1 . . . . . .  C ADDR   01A3H   A   
SHOW_2 . . . . . .  C ADDR   01ACH   A   
SH_1 . . . . . . .  C ADDR   023FH   A   
SH_2 . . . . . . .  C ADDR   0249H   A   
SM0. . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . .  B ADDR   0098H.6 A   
SM2. . . . . . . .  B ADDR   0098H.5 A   
SP . . . . . . . .  D ADDR   0081H   A   
SPCTL. . . . . . .  D ADDR   0085H   A   
SPDAT. . . . . . .  D ADDR   0086H   A   
SPI_CLK. . . . . .  B ADDR   0090H.7 A   
SPI_MISO . . . . .  B ADDR   0090H.6 A   
SPI_MOSI . . . . .  B ADDR   0090H.5 A   
SPI_SS . . . . . .  B ADDR   0090H.4 A   
SPSTAT . . . . . .  D ADDR   0084H   A   
START. . . . . . .  C ADDR   0050H   A   
STARTALA . . . . .  C ADDR   039CH   A   
STARTCLK . . . . .  C ADDR   035EH   A   
STOPALA. . . . . .  C ADDR   03ECH   A   
STRETCH. . . . . .  D ADDR   008FH   A   
T0 . . . . . . . .  B ADDR   00B0H.4 A   
T0CKO. . . . . . .  B ADDR   00B0H.4 A   
T1 . . . . . . . .  B ADDR   00B0H.5 A   
T2 . . . . . . . .  B ADDR   0090H.0 A   
T2CON. . . . . . .  D ADDR   00C8H   A   
T2EX . . . . . . .  B ADDR   0090H.1 A   
T2MOD. . . . . . .  D ADDR   00C9H   A   
TB8. . . . . . . .  B ADDR   0098H.3 A   
TCLK . . . . . . .  B ADDR   00C8H.4 A   
TCON . . . . . . .  D ADDR   0088H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TF2. . . . . . . .  B ADDR   00C8H.7 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TH2. . . . . . . .  D ADDR   00CDH   A   
TI . . . . . . . .  B ADDR   0098H.1 A   
TIMER2 . . . . . .  C ADDR   03CEH   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TL2. . . . . . . .  D ADDR   00CCH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . .  B ADDR   00C8H.2 A   
TRY. . . . . . . .  C ADDR   02DCH   A   
TRY1 . . . . . . .  C ADDR   0305H   A   
TRY1_1 . . . . . .  C ADDR   030AH   A   
TRY2 . . . . . . .  C ADDR   0330H   A   
TXD. . . . . . . .  B ADDR   00B0H.1 A   
WARN . . . . . . .  C ADDR   05B8H   A   
WARN1. . . . . . .  C ADDR   05BAH   A   
WARN2. . . . . . .  C ADDR   05BCH   A   
WDTCR. . . . . . .  D ADDR   00E1H   A   
WR . . . . . . . .  B ADDR   00B0H.6 A   
XICON. . . . . . .  D ADDR   00C0H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
